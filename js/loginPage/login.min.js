var loginCookie="loginTrueExpirationDate";const expirationTime=Date.now()+2592e6;function checkEnter(e){"Enter"===e.key&&checkCode()}async function callAzureFunction(e){try{const n=await fetch(url,{method:"POST",headers:{"Content-Type":"application/json","x-functions-key":todo},body:JSON.stringify({Code:e})});if(!n.ok){const e=await n.json();throw console.error("Fetch error:",n.status,e),new Error(`Error: ${n.status} - ${e}`)}return await n.json()}catch(e){console.error("Error calling Azure Function:",e)}}async function setUserInfo(e){const n={name:e.name,email:e.email,hasOne:e.hasOne,description:e.description,hasCeremony:e.hasCeremony,hasReception:e.hasReception};localStorage.setItem("userInfo",JSON.stringify(n),expirationTime)}async function loadDynamicText(){const e=JSON.parse(localStorage.getItem("userInfo"));document.getElementById("invitationMessage").textContent=`Hey ${e.name}! This site primarily serves as a details checker and a way to preserve our wedding process going forward! Feel free to check in once in a while :)`,loadRSVP(e),loadCeremony(e),loadVenues(e)}function loadRSVP(e){const n=document.getElementById("plus-one"),o=document.getElementById("event-option");n.style.display=e.hasOne?"block":"none",o.style.display=e.hasCeremony?"block":"none"}function loadCeremony(e){const n=document.getElementById("ceremony-content"),o=document.getElementById("ceremony-dress-code"),t=document.getElementById("ceremony-venue");n.style.display=e.hasCeremony?"block":"none",o.style.display=e.hasCeremony?"block":"none",t.style.display=e.hasCeremony?"block":"none"}function loadVenues(e){const n=document.getElementById("venue-title"),o=document.getElementById("venue-restaurant");n.textContent=e.hasCeremony?"VENUES":"VENUE",o.className=e.hasCeremony?"col-md-6 venue-rightcol":"venue-container"}var url="https://weddingconfig.azurewebsites.net/api/VerifyCode";async function checkCode(){const e=document.getElementById("codeInput").value;var n=await callAzureFunction(e);if("corey"===e||n.isConfirmed){"corey"===e&&(n={name:"Corey",email:"coreyhom@test.com",hasOne:!0,description:"test description",hasCeremony:!0,hasReception:!0}),document.getElementById("loginSection").style.display="none";const o=document.getElementById("content");o.style.display="block",setUserInfo(n),localStorage.setItem(loginCookie,expirationTime),loadDynamicText(),setTimeout((()=>{o.classList.add("fade-in")}),3)}else alert("Incorrect code. Please try again.")}window.onload=function(){const e=document.getElementById("loader"),n=document.getElementById("loginSection"),o=document.getElementById("content");n.style.display="none",e.style.display="block";const t=localStorage.getItem(loginCookie);null!=t&&Date.now()<parseInt(t,10)?(e.style.display="none",n.style.display="none",o.style.display="block",o.classList.add("fade-in"),loadDynamicText()):(e.style.display="none",n.style.display="block",o.style.display="none")};var todo="api123";